<html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bluetooth testing</title>
</head>
<body>
    <button id='trigger'>Click me to launch BLE search</button>
</body>

<script>
    function onclick(){
        // alert('button works');
        if (isWebBLEAvaliable()){
            getDeviceInfo()
        }
    }

    function isWebBLEAvaliable(){
        if (!navigator.bluetooth){
            console.log('Web Bluetooth is not Avaliable');
            return false;
        }
        return true;
    }

    function getDeviceInfo(){
        let options = {
            acceptAllDevices: True
        }
        console.log('Requesting BLE device info');
        navigator.bluetooth.requestDevice(options).then(device=>{
            console.log('Name: ', device.name);
        }).catch(error => {
            console.log('Request device error: ' + error);
        })

    }
    document.getElementById('trigger').addEventListener('click', onclick);
    
</script>
</html></html>